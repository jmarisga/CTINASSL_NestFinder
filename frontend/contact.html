<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <title>Nest Finder - Contact Page</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/templatemo-villa-agency.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet"href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>

  </head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <div class="sub-header">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-8">
          <ul class="info">
            <li><i class="fa fa-envelope"></i> info@nestfinder.com</li>
            <li><i class="fa fa-map"></i> S4F, New City Hall Bldg, Brgy. Poblacion, San Pedro, Laguna </li>
          </ul>
        </div>
        <div class="col-lg-4 col-md-4">
          <ul class="social-links">
            <li><a href="#"><i class="fab fa-facebook"></i></a></li>
            <li><a href="https://x.com/minthu" target="_blank"><i class="fab fa-twitter"></i></a></li>
            <li><a href="#"><i class="fab fa-linkedin"></i></a></li>
            <li><a href="#"><i class="fab fa-instagram"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="main-nav">
                    <!-- ***** Logo Start ***** -->
                    <a href="index.html" class="logo">
                        <h1>NEST<span style="margin-left: 8px;">FINDER</span></h1>
                    </a>
                    <!-- ***** Logo End ***** -->
                    <!-- ***** Menu Start ***** -->
                    <ul class="nav">
                      <li><a href="index.html">Home</a></li>
                      <li><a href="properties.html">Properties</a></li>
                      <li><a href="property-details.html">Property Details</a></li>
                      <li><a href="contact.html" class="active">Contact Us</a></li>
                      <li id="nav-login-item"><a href="#" id="nav-login-link">Login</a></li>
                      <li id="nav-register-item"><a href="#" id="nav-register-link">Register</a></li>
                      <li id="nav-logout-item" style="display:none;"><a href="#" id="nav-logout-link">Logout</a></li>
                      <li><a href="#"><i class="fa fa-calendar"></i> Schedule a visit</a></li>
                  </ul>   
                    <a class='menu-trigger'>
                        <span>Menu</span>
                    </a>
                    <!-- ***** Menu End ***** -->
                </nav>
            </div>
        </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <!-- Auth Modal -->
  <div class="modal fade" id="authModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="authModalTitle">Login</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="auth-form">
            <div class="mb-3" id="auth-name-group" style="display:none;">
              <label for="auth-name" class="form-label">Full Name</label>
              <input type="text" class="form-control" id="auth-name" placeholder="Your full name">
            </div>
            <div class="mb-3">
              <label for="auth-email" class="form-label">Email address</label>
              <input type="email" class="form-control" id="auth-email" placeholder="you@example.com" required>
            </div>
            <div class="mb-3">
              <label for="auth-password" class="form-label">Password</label>
              <input type="password" class="form-control" id="auth-password" placeholder="********" minlength="8" required>
            </div>
            <div class="alert alert-danger py-2 px-3" id="auth-error" style="display:none;font-size:0.85rem;"></div>
            <button type="submit" class="btn btn-primary w-100" id="auth-submit-btn">Login</button>
            <p class="mt-3 mb-0 text-center" id="auth-toggle-text" style="font-size:0.9rem;">
              Don't have an account? <a href="#" id="auth-toggle-link">Register</a>
            </p>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="authFeedbackModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="auth-feedback-title">Notice</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="auth-feedback-body">Success</div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="logoutConfirmModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Confirm logout</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">Are you sure you want to log out?</div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="logout-confirm-no">Cancel</button>
          <button type="button" class="btn btn-primary" id="logout-confirm-yes">Logout</button>
        </div>
      </div>
    </div>
  </div>

  <div class="page-heading header-text">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <span class="breadcrumb"><a href="#">Home</a>  /  Contact Us</span>
          <h3>Contact Us</h3>
        </div>
      </div>
    </div>
  </div>

  <div class="contact-page section">
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <div class="section-heading">
            <h6>| Contact Us</h6>
            <h2>Get In Touch With Our Agents</h2>
          </div>
          <p>Nest Finder helps you discover your dream property with ease. Our platform connects you with the best real estate opportunities in your area. Browse our listings and schedule visits to find your perfect nest. Contact us today to learn more about our services.</p>
          <div class="row">
            <div class="col-lg-12">
              <div class="item phone">
                <img src="assets/images/phone-icon.png" alt="" style="max-width: 52px;">
                <h6>010-020-0340<br><span>Phone Number</span></h6>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="item email">
                <img src="assets/images/email-icon.png" alt="" style="max-width: 52px;">
                <h6>info@nestfinder.com<br><span>Business Email</span></h6>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <form id="contact-form" action="" method="post">
            <div class="row">
              <div class="col-lg-12">
                <fieldset>
                  <label for="name">Full Name</label>
                  <input type="name" name="name" id="name" placeholder="Your Name..." autocomplete="on" required>
                </fieldset>
              </div>
              <div class="col-lg-12">
                <fieldset>
                  <label for="email">Email Address</label>
                  <input type="text" name="email" id="email" pattern="[^ @]*@[^ @]*" placeholder="Your E-mail..." required="">
                </fieldset>
              </div>
              <div class="col-lg-12">
                <fieldset>
                  <label for="subject">Subject</label>
                  <input type="subject" name="subject" id="subject" placeholder="Subject..." autocomplete="on" >
                </fieldset>
              </div>
              <div class="col-lg-12">
                <fieldset>
                  <label for="message">Message</label>
                  <textarea name="message" id="message" placeholder="Your Message"></textarea>
                </fieldset>
              </div>
              <div class="col-lg-12">
                <fieldset>
                  <button type="submit" id="form-submit" class="orange-button">Send Message</button>
                </fieldset>
              </div>
            </div>
          </form>
        </div>
        <div class="col-lg-12">
          <div id="map">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3865.1118673876686!2d121.06035939999998!3d14.3629375!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3397d0b9bbf1ca31%3A0x16468ca612a8847f!2sSan%20Pedro%20City%20Hall!5e0!3m2!1sen!2sph!4v1764931471028!5m2!1sen!2sph" width="1300" height="700" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>  
  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/js/isotope.min.js"></script>
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/counter.js"></script>
  <script src="assets/js/custom.js"></script>

  <script>
    (function () {
      const API_BASE = 'http://localhost:5000/api';
      const feedbackModalEl = document.getElementById('authFeedbackModal');
      const feedbackModal = feedbackModalEl ? new bootstrap.Modal(feedbackModalEl) : null;

      const logoutConfirmModalEl = document.getElementById('logoutConfirmModal');
      const logoutConfirmModal = logoutConfirmModalEl ? new bootstrap.Modal(logoutConfirmModalEl) : null;
      const logoutYesBtn = document.getElementById('logout-confirm-yes');
      const logoutNoBtn = document.getElementById('logout-confirm-no');
      let logoutConfirmResolver = null;

      function askLogoutConfirm() {
        return new Promise((resolve) => {
          if (!logoutConfirmModal) {
            resolve(confirm('Are you sure you want to log out?'));
            return;
          }
          logoutConfirmResolver = resolve;
          logoutConfirmModal.show();
        });
      }

      if (logoutYesBtn) {
        logoutYesBtn.addEventListener('click', () => {
          if (logoutConfirmModal) logoutConfirmModal.hide();
          if (logoutConfirmResolver) logoutConfirmResolver(true);
          logoutConfirmResolver = null;
        });
      }

      if (logoutNoBtn) {
        logoutNoBtn.addEventListener('click', () => {
          if (logoutConfirmModal) logoutConfirmModal.hide();
          if (logoutConfirmResolver) logoutConfirmResolver(false);
          logoutConfirmResolver = null;
        });
      }

      function showAuthFeedback(title, message) {
        if (!feedbackModal) {
          alert(message || title || 'Notification');
          return;
        }
        document.getElementById('auth-feedback-title').textContent = title || 'Notice';
        document.getElementById('auth-feedback-body').textContent = message || '';
        feedbackModal.show();
      }

      function getToken() {
        return localStorage.getItem('nestfinder_jwt') || '';
      }

      function setToken(token) {
        if (token) localStorage.setItem('nestfinder_jwt', token);
      }

      function clearToken() {
        localStorage.removeItem('nestfinder_jwt');
      }

      function updateAuthNav() {
        const isLoggedIn = !!getToken();
        $('#nav-login-item, #nav-register-item').toggle(!isLoggedIn);
        $('#nav-logout-item').toggle(isLoggedIn);
      }

      function openAuthModal(mode) {
        const isLogin = mode === 'login';
        $('#authModalTitle').text(isLogin ? 'Login' : 'Create an account');
        $('#auth-name-group').toggle(!isLogin);
        $('#auth-submit-btn').text(isLogin ? 'Login' : 'Register');
        $('#auth-error').hide();
        $('#auth-form')[0].reset();
        const html = isLogin
          ? "Don't have an account? <a href='#' id='auth-toggle-link'>Register</a>"
          : "Already have an account? <a href='#' id='auth-toggle-link'>Login</a>";
        $('#auth-toggle-text').html(html);
        $('#authModal').modal('show');
        $('#authModal').data('mode', mode);
      }

      $('#nav-login-link').on('click', function (e) {
        e.preventDefault();
        openAuthModal('login');
      });

      $('#nav-register-link').on('click', function (e) {
        e.preventDefault();
        openAuthModal('register');
      });

      $('#nav-logout-link').on('click', function (e) {
        e.preventDefault();
        askLogoutConfirm().then((ok) => {
          if (!ok) return;
          clearToken();
          updateAuthNav();
          showAuthFeedback('Logged out', 'You have been logged out successfully.');
        });
      });

      $(document).on('click', '#auth-toggle-link', function (e) {
        e.preventDefault();
        const currentMode = $('#authModal').data('mode') || 'login';
        openAuthModal(currentMode === 'login' ? 'register' : 'login');
      });

      $('#auth-form').on('submit', function (e) {
        e.preventDefault();
        const mode = $('#authModal').data('mode') || 'login';
        const name = $('#auth-name').val();
        const email = $('#auth-email').val();
        const password = $('#auth-password').val();
        const endpoint = mode === 'login' ? '/auth/login' : '/auth/register';

        $('#auth-error').hide();

        $.ajax({
          url: API_BASE + endpoint,
          method: 'POST',
          contentType: 'application/json',
          data: JSON.stringify({ name, email, password }),
          success: function (res) {
            setToken(res.token);
            $('#authModal').modal('hide');
            updateAuthNav();
            const isLogin = mode === 'login';
            showAuthFeedback(
              isLogin ? 'Login successful' : 'Registration successful',
              isLogin ? 'You are now logged in.' : 'Your account is ready. You are now logged in.'
            );
          },
          error: function (xhr) {
            const message =
              (xhr.responseJSON && xhr.responseJSON.message) ||
              xhr.statusText ||
              'Authentication failed';
            console.error('Auth error', { status: xhr.status, response: xhr.responseText });
            $('#auth-error').text(message).show();
          },
        });
      });

      updateAuthNav();
    })();
  </script>

  </body>
</html>